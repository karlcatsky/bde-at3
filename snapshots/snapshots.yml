version: 2

snapshots:
  - name: host_snapshot
    relation: ref('stg_hosts')    # A staged view of the bronze layer is snapshotted because host_id comes directly from raw data 
    config:
      strategy: timestamp
      unique_key: host_id
      updated_at: scraped_date

  - name: listing_snapshot 
    relation: ref('stg_listings') # A staged view of the bronze layer is snapshotted becuase listing_id comes directly from raw data 
    config: 
      strategy: timestamp 
      unique_key: listing_id
      updated_at: scraped_date
       
  - name: property_snapshot
    relation: ref('s_dim_property_types')
    config:
      strategy: timestamp
      unique_key: property_type_id
      updated_at: last_updated

  - name: room_snapshot
    relation: ref('s_dim_room_types')
    config:
      strategy: timestamp
      unique_key: room_type_id
      updated_at: last_updated